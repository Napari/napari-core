{
  "definitions": {
    "pluginArray": {
      "type": "array",
      "items": {
        "oneOf": [
          { "$ref": "#/definitions/remotePlugin" }
        ]
      }
    },
    "remotePlugin": {
      "type": "object",
      "properties": {
        "name":      { "$ref": "#/definitions/name" },
        "namespace": { "$ref": "#/definitions/namespace" },
        "version":   { "type": "string" },
        "remote":    { "$ref": "#/definitions/git-reference" },
        "install":   { "$ref": "#/definitions/installArray" }
      },
      "required": ["name", "namespace", "remote", "version"]
    },
    "installArray": {
      "type": "array",
      "minItems": 1,
      "items": { "type": "string" }
    },
    "name": {
      "type": "string",
      "pattern": "^[._\\-A-Za-z0-9]+$"
    },
    "namespace": {
      "type": "string",
      "pattern": "^\\w+$"
    },
    "git-reference": {
      "type": "string",
      "pattern": "^(?:[^:\\/?#]+:)?(?:\\/\\/[^\\/?#]*)?[^?#]*\\.git$"
    }
  },

  "properties": {
    "plugins": { "$ref": "#/definitions/pluginArray" }
  }
}
